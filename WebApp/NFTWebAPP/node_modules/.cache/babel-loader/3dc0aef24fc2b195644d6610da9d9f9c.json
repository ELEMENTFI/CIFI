{"ast":null,"code":"'use strict';\n\nconst TransformStream = require('readable-stream').Transform;\n/*\r\n  Transforms a stream of {Name, Hash} objects to include size\r\n  of the DAG object.\r\n\r\n  Usage: inputStream.pipe(new FileResultStreamConverter())\r\n\r\n  Input object format:\r\n  {\r\n    Name: '/path/to/file/foo.txt',\r\n    Hash: 'Qma4hjFTnCasJ8PVp3mZbZK5g2vGDT4LByLJ7m8ciyRFZP'\r\n    Size: '20'\r\n  }\r\n\r\n  Output object format:\r\n  {\r\n    path: '/path/to/file/foo.txt',\r\n    hash: 'Qma4hjFTnCasJ8PVp3mZbZK5g2vGDT4LByLJ7m8ciyRFZP',\r\n    size: 20\r\n  }\r\n*/\n\n\nclass FileResultStreamConverter extends TransformStream {\n  constructor(options) {\n    const opts = Object.assign({}, options || {}, {\n      objectMode: true\n    });\n    super(opts);\n  }\n\n  _transform(obj, enc, callback) {\n    if (!obj.Hash) {\n      return callback();\n    }\n\n    callback(null, {\n      path: obj.Name,\n      hash: obj.Hash,\n      size: parseInt(obj.Size, 10)\n    });\n  }\n\n}\n\nmodule.exports = FileResultStreamConverter;","map":{"version":3,"sources":["C:/demoAlgo/smart-contracts/devrel/algosigner-react/CIFI/WebApp/NFTWebAPP/node_modules/ipfs-api/src/utils/file-result-stream-converter.js"],"names":["TransformStream","require","Transform","FileResultStreamConverter","constructor","options","opts","Object","assign","objectMode","_transform","obj","enc","callback","Hash","path","Name","hash","size","parseInt","Size","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,eAAe,GAAGC,OAAO,CAAC,iBAAD,CAAP,CAA2BC,SAAnD;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMC,yBAAN,SAAwCH,eAAxC,CAAwD;AACtDI,EAAAA,WAAW,CAAEC,OAAF,EAAW;AACpB,UAAMC,IAAI,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,OAAO,IAAI,EAA7B,EAAiC;AAAEI,MAAAA,UAAU,EAAE;AAAd,KAAjC,CAAb;AACA,UAAMH,IAAN;AACD;;AAEDI,EAAAA,UAAU,CAAEC,GAAF,EAAOC,GAAP,EAAYC,QAAZ,EAAsB;AAC9B,QAAI,CAACF,GAAG,CAACG,IAAT,EAAe;AACb,aAAOD,QAAQ,EAAf;AACD;;AAEDA,IAAAA,QAAQ,CAAC,IAAD,EAAO;AACbE,MAAAA,IAAI,EAAEJ,GAAG,CAACK,IADG;AAEbC,MAAAA,IAAI,EAAEN,GAAG,CAACG,IAFG;AAGbI,MAAAA,IAAI,EAAEC,QAAQ,CAACR,GAAG,CAACS,IAAL,EAAW,EAAX;AAHD,KAAP,CAAR;AAKD;;AAhBqD;;AAmBxDC,MAAM,CAACC,OAAP,GAAiBnB,yBAAjB","sourcesContent":["'use strict'\r\n\r\nconst TransformStream = require('readable-stream').Transform\r\n\r\n/*\r\n  Transforms a stream of {Name, Hash} objects to include size\r\n  of the DAG object.\r\n\r\n  Usage: inputStream.pipe(new FileResultStreamConverter())\r\n\r\n  Input object format:\r\n  {\r\n    Name: '/path/to/file/foo.txt',\r\n    Hash: 'Qma4hjFTnCasJ8PVp3mZbZK5g2vGDT4LByLJ7m8ciyRFZP'\r\n    Size: '20'\r\n  }\r\n\r\n  Output object format:\r\n  {\r\n    path: '/path/to/file/foo.txt',\r\n    hash: 'Qma4hjFTnCasJ8PVp3mZbZK5g2vGDT4LByLJ7m8ciyRFZP',\r\n    size: 20\r\n  }\r\n*/\r\nclass FileResultStreamConverter extends TransformStream {\r\n  constructor (options) {\r\n    const opts = Object.assign({}, options || {}, { objectMode: true })\r\n    super(opts)\r\n  }\r\n\r\n  _transform (obj, enc, callback) {\r\n    if (!obj.Hash) {\r\n      return callback()\r\n    }\r\n\r\n    callback(null, {\r\n      path: obj.Name,\r\n      hash: obj.Hash,\r\n      size: parseInt(obj.Size, 10)\r\n    })\r\n  }\r\n}\r\n\r\nmodule.exports = FileResultStreamConverter\r\n"]},"metadata":{},"sourceType":"script"}